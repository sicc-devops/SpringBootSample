webpackJsonp([1],{"97MS":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("j1ja");var s=n("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view")],1)},staticRenderFns:[]},a=n("VU/8")({name:"App"},o,!1,null,null,null).exports,i=n("/ocq"),r=n("mtWM"),u=n.n(r),c=u.a.create({baseURL:"/",timeout:4e4,headers:{"Content-Type":"application/json",Authorization:{toString:function(){return null==sessionStorage.getItem("token")?null:"undefined"!=sessionStorage.getItem("token")?"Bearer "+sessionStorage.getItem("token"):void 0}}}}),l=n("ZZvs"),d=n.n(l),m={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n\theader\n")])},staticRenderFns:[]},p={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n\tfooter\n")])},staticRenderFns:[]},v={name:"Main",components:{appHeader:n("VU/8")({name:"Header",data:function(){return{}},created:function(){},mounted:function(){},beforeDestroy:function(){},methods:{}},m,!1,null,null,null).exports,appFooter:n("VU/8")(null,p,!1,null,null,null).exports,Loading:d.a},data:function(){return{token:window.sessionStorage.getItem("token"),msg:"",saveCheck:!1,isLoading:!1,userInfo:{userId:"userId",userName:"userName",password:"password"}}},userInfo:function(){},created:function(){},mounted:function(){this.getCurrentUser()},methods:{getCurrentUser:function(){var e=this;console.log(this.token),c.defaults.headers.common.Authorization="Bearer ".concat(this.token),c.get("/user/detail").then(function(t){(console.log(t.data),"200"!=t.data.ResultCode)?(alert(t.data.resultMsg),e.isLoading=!1):(e.isLoading=!1,e.userInfo=t.data.UserVO,console.log(e.userInfo))}).catch(function(e){console.log(e)})}}},g={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("app-header"),e._v(" "),n("div",[n("h2",{staticClass:"logo",staticStyle:{"font-size":"32px","font-weight":"bold"}},[e._v("Vue Sample")]),e._v(" "),n("p",[e._v("User Id: "+e._s(e.userInfo.userId))]),e._v(" "),n("p",[e._v("User Name: "+e._s(e.userInfo.userName))]),e._v(" "),n("p",[e._v("Password: "+e._s(e.userInfo.password))]),e._v(" "),n("div",{staticClass:"copy"},[e._v("\n            COPYRIGHT© 2017 SSANGYONG&COMMUNICATIONS. ALL RIGHTS RESERVED.\n        ")]),e._v(" "),n("loading",{attrs:{active:e.isLoading,"can-cancel":!0,color:"#ff0000","is-full-page":!0},on:{"update:active":function(t){e.isLoading=t}}})],1),e._v(" "),n("app-footer")],1)},staticRenderFns:[]},f=n("VU/8")(v,g,!1,null,null,null).exports,h={name:"Login",components:{Loading:d.a},data:function(){return{username:"",password:"",msg:"",saveCheck:!1,isLoading:!1}},created:function(){""!=window.sessionStorage.getItem("savecheck")?(this.username=window.sessionStorage.getItem("savecheck"),this.saveCheck=!0):(this.username="",this.saveCheck=!1)},mounted:function(){},methods:{goRegister:function(){this.$router.push("/Register")},loginProcess:function(){var e=this;this.isLoading=!0,this.saveCheck?window.sessionStorage.setItem("savecheck",this.username):window.sessionStorage.setItem("savecheck","");var t=JSON.stringify({userId:this.username,password:this.password});c.post("/auth/login",t).then(function(t){if(void 0==t.data.token)alert("아이디 및 비밀번호가 틀립니다."),e.isLoading=!1;else{var n=e;setTimeout(function(){n.isLoading=!1,"200"==t.data.code?(window.sessionStorage.setItem("token",t.data.token),c.defaults.headers.common.Authorization="Bearer ".concat(t.data.token),n.$router.push("/")):alert(t.data.message)},1e3)}}).catch(function(e){console.log(e)})}}},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("h2",{staticClass:"logo",staticStyle:{"font-size":"32px","font-weight":"bold"}},[e._v("Vue Sample")]),e._v(" "),n("form",{attrs:{name:"loginForm",id:"loginForm"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"txt_input",attrs:{type:"text",placeholder:"아이디",maxlength:"16",value:""},domProps:{value:e.username},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginProcess()},input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"txt_input",attrs:{type:"password",placeholder:"비밀번호"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginProcess()},input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),n("input",{staticClass:"btn btn_login",attrs:{type:"button",value:"로그인"},on:{click:function(t){return e.loginProcess()}}}),e._v(" "),n("label",{staticClass:"check_login",attrs:{for:"idSaveCheck"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.saveCheck,expression:"saveCheck"}],attrs:{type:"checkbox",id:"idSaveCheck"},domProps:{checked:Array.isArray(e.saveCheck)?e._i(e.saveCheck,null)>-1:e.saveCheck},on:{change:function(t){var n=e.saveCheck,s=t.target,o=!!s.checked;if(Array.isArray(n)){var a=e._i(n,null);s.checked?a<0&&(e.saveCheck=n.concat([null])):a>-1&&(e.saveCheck=n.slice(0,a).concat(n.slice(a+1)))}else e.saveCheck=o}}}),e._v("사원번호저장\n        ")]),e._v(" "),n("input",{staticClass:"btn btn_login",attrs:{type:"button",value:"가입"},on:{click:function(t){return e.goRegister()}}})]),e._v(" "),n("div",{staticClass:"btnbox"}),e._v(" "),n("div",{staticClass:"copy"},[e._v("\n        COPYRIGHT© 2017 SSANGYONG&COMMUNICATIONS. ALL RIGHTS RESERVED.\n    ")]),e._v(" "),n("loading",{attrs:{active:e.isLoading,"can-cancel":!0,color:"#ff0000","is-full-page":!0},on:{"update:active":function(t){e.isLoading=t}}})],1)},staticRenderFns:[]};var w=n("VU/8")(h,_,!1,function(e){n("97MS")},null,null).exports,k={name:"Register",components:{Loading:d.a},data:function(){return{userid:"",username:"",password:"",msg:"",saveCheck:!1,isLoading:!1}},created:function(){},mounted:function(){},methods:{regProcess:function(){var e=this;if(this.isLoading=!0,""==this.userid)return alert("아이디를 입력 해 주세요"),document.getElementById("userid").focus(),void(this.isLoading=!1);if(""==this.password)return alert("비밀번호를 입력 해 주세요"),document.getElementById("password").focus(),void(this.isLoading=!1);if(this.password!=this.confirmPassword)return alert("비밀번호를 확인 해 주세요"),document.getElementById("confirmPassword").focus(),void(this.isLoading=!1);if(""==this.username)return alert("사용자명를 입력 해 주세요"),document.getElementById("username").focus(),void(this.isLoading=!1);var t=JSON.stringify({userId:this.userid,userName:this.username,password:this.password});c.post("/auth/Register",t).then(function(t){if(200!=t.data.ResultCode)alert(t.data.ResultMsg),e.isLoading=!1;else{var n=e;setTimeout(function(){n.isLoading=!1,window.sessionStorage.setItem("savecheck",this.userid),n.$router.push("/Login")},1e3)}}).catch(function(e){console.log(e)})}}},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register"},[n("h2",{staticClass:"logo",staticStyle:{"font-size":"32px","font-weight":"bold"}},[e._v("Register")]),e._v(" "),n("form",{attrs:{name:"loginForm",id:"loginForm"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userid,expression:"userid"}],staticClass:"txt_input",attrs:{type:"text",id:"userId",placeholder:"아이디",maxlength:"16",value:""},domProps:{value:e.userid},on:{input:function(t){t.target.composing||(e.userid=t.target.value)}}}),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"txt_input",attrs:{type:"password",id:"password",placeholder:"비밀번호"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],staticClass:"txt_input",attrs:{type:"Password",id:"confirmPassword",placeholder:"비밀번호 확인"},domProps:{value:e.confirmPassword},on:{input:function(t){t.target.composing||(e.confirmPassword=t.target.value)}}}),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"txt_input",attrs:{type:"text",id:"username",placeholder:"성명"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("br"),e._v(" "),n("input",{staticClass:"btn btn_reg",attrs:{type:"button",value:"가입"},on:{click:function(t){return e.regProcess()}}}),e._v(" "),n("input",{staticClass:"btn btn_cancel",attrs:{type:"button",value:"취소"},on:{click:function(t){return e.cancel()}}})]),e._v(" "),n("div",{staticClass:"copy"},[e._v("\n        COPYRIGHT© 2017 SSANGYONG&COMMUNICATIONS. ALL RIGHTS RESERVED.\n    ")]),e._v(" "),n("loading",{attrs:{active:e.isLoading,"can-cancel":!0,color:"#ff0000","is-full-page":!0},on:{"update:active":function(t){e.isLoading=t}}})],1)},staticRenderFns:[]};var I=n("VU/8")(k,C,!1,function(e){n("uBGQ")},null,null).exports;s.a.use(i.a);var L=new i.a({routes:[{path:"/",name:"Main",component:f,beforeEnter:function(e,t,n){if(sessionStorage.getItem("token"))return n();n({path:"/login",query:{redirect:e.fullPath}})}},{path:"/login",name:"Login",component:w},{path:"/Register",name:"Register",component:I}],scrollBehavior:function(e,t,n){return n||{x:0,y:0}}}),y=n("NYxO");s.a.use(y.a);var S=new y.a.Store({state:{token:null,empno:"",empnm:"",expire:"",isLoggedIn:!!sessionStorage.getItem("token")},getters:{},mutations:{LOGIN:function(e,t){var n=t.token;e.token=n,e.isLoggedIn=!0},LOGOUT:function(e){e.token=null,e.isLoggedIn=!1,delete sessionStorage.token}},actions:{LOGIN:function(e,t){var n=e.commit,s=t.username,o=t.password;return u.a.post("/auth/login",{username:s,password:o}).then(function(e){var t=e.data;n("LOGIN",t)})},LOGOUT:function(e){(0,e.commit)("LOGOUT")}}});n("9MqX"),n("7qRx"),s.a.config.productionTip=!1,new s.a({router:L,store:S,render:function(e){return e(a)}}).$mount("#app")},uBGQ:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.261e3299a802652d5278.js.map